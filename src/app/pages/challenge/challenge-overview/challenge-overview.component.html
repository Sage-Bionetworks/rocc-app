<section>
  <div *ngIf="challenge"
    class="rocc-challenge-overview-top-container">
    <!-- <p>{{challenge.description}}</p>
    <mat-divider></mat-divider> -->
    <div class="rocc-challenge-overview-topics-container">
      <button
        mat-raised-button class="rocc-challenge-overview-topics"
        *ngFor="let topic of challenge.topics">
        {{topic}}
      </button>
    </div>
  </div>
  <div class="rocc-challenge-overview-bottom-container">
    <h2>Introduction</h2>
    <div *ngIf="readme$ | async as readme">
      <p>{{readme.text}}</p>
    </div>
    <h2>Organizers</h2>
    <div class="rocc-challenge-organizers-container">
      <table mat-table matSort *ngIf="organizers" [dataSource]="organizers">
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>User Name</th>
          <td mat-cell *matCellDef="let element">
            <div>
              <sage-avatar [avatar]="getAvatar(element.name, 30)"></sage-avatar>
              {{element.name}} 
            </div>
          </td>
        </ng-container>
        <!-- Login Column -->
        <ng-container matColumnDef="login">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>User ID</th>
          <td mat-cell *matCellDef="let element"> 
            <a routerLink="/{{element.login}}">@{{element.login}}</a>
          </td>
        </ng-container>
        <!-- Roles Column -->
        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
          <td mat-cell *matCellDef="let element">{{element.roles.join(', ')}}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
    <h2>Supporting Organizations</h2>
    <!-- <div class="rocc-challenge-sponsors-container">
      <table mat-table matSort *ngIf="sponsorList" [dataSource]="sponsorList">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Organization Name</th>
          <td mat-cell *matCellDef="let element">
            <div>
              <sage-avatar [avatar]="getAvatar(element.name)"></sage-avatar>
              {{element.name}} 
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="login">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Organization ID</th>
          <td mat-cell *matCellDef="let element"> 
            <a routerLink="/{{element.login}}">@{{element.login}}</a>
          </td>
        </ng-container>
        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
          <td mat-cell *matCellDef="let element">{{element.roles.join(', ')}}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div> -->
    <div class="rocc-challenge-sponsors-container" *ngIf="sponsors">
      <div class="rocc-challenge-sponsor-card" *ngFor="let sponsor of sponsors">
        <sage-avatar [avatar]="getAvatar(sponsor.name, 80)"></sage-avatar>
        <span class="sponsor-name">{{sponsor.name}}</span>
        <span *ngIf="sponsor.roles">{{sponsor.roles.join(', ')}}</span>
      </div>
    </div>
  </div>
</section>